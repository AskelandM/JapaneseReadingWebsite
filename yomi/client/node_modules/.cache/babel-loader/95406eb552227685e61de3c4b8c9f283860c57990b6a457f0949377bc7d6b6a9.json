{"ast":null,"code":"var _jsxFileName = \"D:\\\\source\\\\repos\\\\Yomi\\\\JapaneseReadingWebsite\\\\yomi\\\\client\\\\src\\\\pages\\\\Layout.js\",\n  _s = $RefreshSig$();\nimport { Outlet, Link } from \"react-router-dom\";\nimport { FaHome, FaUser, FaTrophy, FaBook, FaSearch, FaSignOutAlt } from \"react-icons/fa\";\nimport { useState, useEffect } from \"react\";\nimport supabase from \"../supabaseclient.js\";\nimport \"../styling/layout.css\";\nimport authTeacher from \"./util.js\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Layout = ({\n  setUser\n}) => {\n  _s();\n  const [hoveredIcon, setHoveredIcon] = useState(null);\n  const [isTeacher, setIsTeacher] = useState(false);\n  const handleLogout = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n  };\n  useEffect(() => {\n    const checkUser = async () => {\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (!user) return;\n      const {\n        data: userData\n      } = await supabase.from(\"usersLogin\").select(\"*\").eq(\"id\", user.id).single();\n      if (!userData) {\n        await supabase.from(\"usersLogin\").insert([{\n          id: user.id,\n          email: user.email\n        }]);\n      } else {\n        const res = await authTeacher(user.email);\n        if (res === true) {\n          setIsTeacher(true);\n        }\n        console.log(\"found user!\");\n      }\n    };\n    checkUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-section\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(FaHome, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/leaderboard\",\n          children: /*#__PURE__*/_jsxDEV(FaTrophy, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/lessons\",\n          children: /*#__PURE__*/_jsxDEV(FaBook, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/sentences\",\n          children: /*#__PURE__*/_jsxDEV(FaSearch, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [isTeacher ? \"YOMI TEACHER\" : \"YOMI\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/gator_student.png\",\n          alt: \"YOMI logo\",\n          className: \"logo-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-section\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          children: /*#__PURE__*/_jsxDEV(FaUser, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-button\",\n          onMouseEnter: () => setHoveredIcon(\"logout\"),\n          onMouseLeave: () => setHoveredIcon(null),\n          children: /*#__PURE__*/_jsxDEV(FaSignOutAlt, {\n            style: {\n              fontSize: \"2rem\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Layout, \"4j1YNf6t2bo4I4A0S5rSI8itQoc=\");\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["Outlet","Link","FaHome","FaUser","FaTrophy","FaBook","FaSearch","FaSignOutAlt","useState","useEffect","supabase","authTeacher","jsxDEV","_jsxDEV","Fragment","_Fragment","Layout","setUser","_s","hoveredIcon","setHoveredIcon","isTeacher","setIsTeacher","handleLogout","auth","signOut","checkUser","data","user","getUser","userData","from","select","eq","id","single","insert","email","res","console","log","children","className","to","style","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","onMouseEnter","onMouseLeave","_c","$RefreshReg$"],"sources":["D:/source/repos/Yomi/JapaneseReadingWebsite/yomi/client/src/pages/Layout.js"],"sourcesContent":["import { Outlet, Link } from \"react-router-dom\";\r\nimport {\r\n  FaHome,\r\n  FaUser,\r\n  FaTrophy,\r\n  FaBook,\r\n  FaSearch,\r\n  FaSignOutAlt,\r\n} from \"react-icons/fa\";\r\nimport { useState, useEffect } from \"react\";\r\nimport supabase from \"../supabaseclient.js\";\r\nimport \"../styling/layout.css\";\r\nimport authTeacher from \"./util.js\";\r\n\r\nconst Layout = ({ setUser }) => {\r\n  const [hoveredIcon, setHoveredIcon] = useState(null);\r\n  const [isTeacher, setIsTeacher] = useState(false);\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut();\r\n    setUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const checkUser = async () => {\r\n      const {\r\n        data: { user },\r\n      } = await supabase.auth.getUser();\r\n\r\n      if (!user) return;\r\n\r\n      const { data: userData } = await supabase\r\n        .from(\"usersLogin\")\r\n        .select(\"*\")\r\n        .eq(\"id\", user.id)\r\n        .single();\r\n\r\n      if (!userData) {\r\n        await supabase.from(\"usersLogin\").insert([\r\n          {\r\n            id: user.id,\r\n            email: user.email,\r\n          },\r\n        ]);\r\n      } else {\r\n        const res = await authTeacher(user.email);\r\n        if (res === true) {\r\n          setIsTeacher(true);\r\n        }\r\n        console.log(\"found user!\");\r\n      }\r\n    };\r\n\r\n    checkUser();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"nav\">\r\n        <div className=\"nav-section\">\r\n          <Link to=\"/\">\r\n            <FaHome style={{ fontSize: \"2rem\" }} />\r\n          </Link>\r\n          <Link to=\"/leaderboard\">\r\n            <FaTrophy style={{ fontSize: \"2rem\" }} />\r\n          </Link>\r\n          <Link to=\"/lessons\">\r\n            <FaBook style={{ fontSize: \"2rem\" }} />\r\n          </Link>\r\n          <Link to=\"/sentences\">\r\n            <FaSearch style={{ fontSize: \"2rem\" }} />\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"nav-center\">\r\n          <h1>{isTeacher ? \"YOMI TEACHER\" : \"YOMI\"} </h1>\r\n          <img\r\n            src=\"/images/gator_student.png\"\r\n            alt=\"YOMI logo\"\r\n            className=\"logo-image\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"nav-section\">\r\n          <Link to=\"/profile\">\r\n            <FaUser style={{ fontSize: \"2rem\" }} />\r\n          </Link>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"logout-button\"\r\n            onMouseEnter={() => setHoveredIcon(\"logout\")}\r\n            onMouseLeave={() => setHoveredIcon(null)}\r\n          >\r\n            <FaSignOutAlt style={{ fontSize: \"2rem\" }} />\r\n          </button>\r\n        </div>\r\n      </nav>\r\n\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}